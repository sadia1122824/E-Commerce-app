
<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="utf-8" />
        <title>Add Events</title>
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta content="Premium Multipurpose Admin & Dashboard Template" name="description" />
        <meta content="" name="author" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />

        <!-- App favicon -->
        <link rel="shortcut icon" href="assets/images/favicon.ico">

        <!-- <link href="../plugins/lightpick/lightpick.css" rel="stylesheet" /> -->

        <!-- App css -->
        <link href="../admin/assets/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
        <link href="../admin/assets/css/icons.min.css" rel="stylesheet" type="text/css" />
        <link href="../admin/assets/css/metisMenu.min.css" rel="stylesheet" type="text/css" />
        <!-- <link href="../plugins/daterangepicker/daterangepicker.css" rel="stylesheet" type="text/css" /> -->
        <link href="../admin/assets/css/app.min.css" rel="stylesheet" type="text/css" />
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
 <style>
  .upload-wrapper {
    background: #ffffff;
    border-radius: 12px;
    padding: 30px;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
    width: 64rem;
    margin: 30px auto;
    text-align: center;
    transition: 0.3s ease;
  }

  .upload-wrapper:hover {
    transform: translateY(-3px);
    box-shadow: 0 12px 30px rgba(0, 0, 0, 0.15);
  }

  .upload-wrapper input[type="text"] {
    width: 100%;
    padding: 10px 15px;
    border-radius: 8px;
    border: 1px solid #ccc;
    transition: border-color 0.3s ease;
    margin-bottom: 20px;
  }

  .upload-wrapper input[type="text"]:focus {
    border-color: #0d6efd;
    outline: none;
    box-shadow: 0 0 6px rgba(13, 110, 253, 0.2);
  }

  .upload-btn {
    background-color: #f0f4ff;
    color: #0d6efd;
    border: 1px solid #0d6efd;
    padding: 10px 25px;
    border-radius: 6px;
    cursor: pointer;
    transition: 0.3s ease;
    display: inline-block;
  }

  .upload-btn:hover {
    background-color: #0d6efd;
    color: #fff;
  }

  .upload-wrapper button {
    background-color: #198754;
    color: #fff;
    border: none;
    padding: 10px 25px;
    border-radius: 6px;
    margin-top: 15px;
    transition: 0.3s ease;
  }

  .upload-wrapper button:hover {
    background-color: #157347;
  }

  #previewContainer {
    margin-top: 25px;
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    gap: 20px;
  }

  #previewContainer img {
    max-width: 150px;
    border-radius: 10px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
  }
</style>

    </head>

    <body>
        <!-- Left Sidenav -->
        <div id="side-navbar">

        </div>
        <!-- end left-sidenav-->
        

        <div class="page-wrapper">
            <!-- Top Bar Start -->
            <div class="topbar">            
                <!-- Navbar -->
                <nav class="navbar-custom">    
                  
        
                   
                </nav>
                <!-- end navbar-->
            </div>
            <!-- Top Bar End -->

            <!-- Page Content-->
            <div class="page-content">
                <div class="container-fluid">
                    <!-- Page-Title -->
                   
                    <!-- end page title end breadcrumb -->
                    <div class="row">
                        <div class="col-12">
                            <div class="card">
                              
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-lg-6">
  
  
<!-- ✨ Upload Form -->
<div class="upload-wrapper">
  <input type="text" id="imageText" placeholder="Enter image text"><br>

  <label for="imageInput" class="upload-btn mt-3">Choose Image</label>
  <input type="file" id="imageInput" accept="image/*" style="display: none;"><br>
  <div id="formMessage" style="margin-top: 15px;"></div>

  <button onclick="handleUpload()">Upload</button>

  <!-- Preview -->
  <div id="previewContainer"></div>
</div>








                                        </div><!--end col-->
                                        <div class="col-lg-5 ml-auto align-self-center">
                                           
                                            
                                        </div><!--end col-->
                                    </div><!--end row-->                                                                              
                                </div><!--end card-body-->
                            </div><!--end card-->
                        </div><!--end col-->
                    </div><!--end row-->

                </div><!-- container -->

          
            </div>
            <!-- end page content -->
        </div>
        <!-- end page-wrapper -->

        


        <!-- jQuery  -->
        <!-- <script src="assets/js/jquery.min.js"></script>
        <script src="assets/js/bootstrap.bundle.min.js"></script>
        <script src="assets/js/metismenu.min.js"></script>
        <script src="assets/js/waves.js"></script>
        <script src="assets/js/feather.min.js"></script>
        <script src="assets/js/simplebar.min.js"></script>
        <script src="assets/js/moment.js"></script>
        <script src="../plugins/daterangepicker/daterangepicker.js"></script>

        <script src="../plugins/lightpick/lightpick.js"></script>
        <script src="assets/pages/jquery.projects_new.init.js"></script> -->

        <!-- App js -->
        <!-- <script src="assets/js/app.js"></script>
        <script src="./side_navbar.js"></script>
        <script>
            $('.change-avatar').on('click', function() { $('#fileupload').click();return false;});
            $('.add-member').on('click', function() { $('#add-member').click();return false;});

           
        </script> -->

        
              
         
        <script src="./admin/side_navbar.js"></script>            
 <script>
  const imageInput = document.getElementById('imageInput');
  const previewContainer = document.getElementById('previewContainer');

  imageInput.addEventListener('change', () => {
    const files = Array.from(imageInput.files);
    previewContainer.innerHTML = '';
    files.forEach(file => {
      const reader = new FileReader();
      reader.onload = (e) => {
        const img = document.createElement('img');
        img.src = e.target.result;
        previewContainer.appendChild(img);
      };
      reader.readAsDataURL(file);
    });
  });

  async function handleUpload() {
  const messageBox = document.getElementById('formMessage');
  messageBox.innerHTML = ''; // Clear previous messages

  const imageText = document.getElementById('imageText').value.trim();
  const files = Array.from(imageInput.files);

  if (!imageText) {
    showMessage('Please enter image text.', 'danger');
    return;
  }

  if (!files.length) {
    showMessage('Please select an image.', 'danger');
    return;
  }

  const formData = new FormData();
  formData.append('imageText', imageText);
  formData.append('image', files[0]);

  try {
    const res = await fetch('/adminImageSection', {
      method: 'POST',
      body: formData
    });

    const data = await res.json();
    showMessage(data.message || 'Upload successful!', 'success');
  } catch (err) {
    console.error("❌ Upload error:", err);
    showMessage('Upload failed!', 'danger');
  }
}

// Helper to show styled message in #formMessage
function showMessage(text, type = 'success') {
  const messageBox = document.getElementById('formMessage');
  messageBox.innerHTML = `
    <div class="alert alert-${type}" role="alert">
      ${text}
    </div>
  `;
}

</script>




        
    </body>

</html>